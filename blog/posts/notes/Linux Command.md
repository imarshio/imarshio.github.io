---
icon: pen-to-square
date: 2021-03-17
category:
  - Linux
title: Linux Command
tag:
- ls

---

ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ€»å½’æ˜¯å…ˆæœ‰ä¸€ä¸ªèƒŒæ™¯çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹å‘½ä»¤éƒ½æ˜¯ç»“åˆé€‚ç”¨åœºæ™¯æ€»ç»“å‡ºæ¥çš„ã€‚
ç”±äºLinuxå®¶æ—è¿‡äºåºå¤§ï¼Œæ¯ä¸ªåˆ†æ”¯éƒ½å„æœ‰ç‰¹ç‚¹ï¼Œä¸”å¤„ç†æ–¹å¼ä¸å®Œå…¨ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä¼šå°½é‡ç»™å‡ºå¸¸ç”¨ç³»ç»Ÿçš„å‘½ä»¤ã€‚
è¿™é‡Œä½ éœ€è¦çŸ¥é“è‡ªå·±çš„ç”µè„‘å±äºå“ªä¸ªå‘è¡Œç‰ˆï¼Œä¸äº†è§£çš„å¯ä»¥ç‚¹å‡»äº†è§£ä¸€ä¸‹(è™½ç„¶æˆ‘ä¹Ÿä¸æ˜¯å¾ˆäº†è§£ï¼Œä½†æ˜¯å¯ä»¥ç¨å¾®iæä¾›ä¸€ç‚¹ç‚¹å¸®åŠ©)ã€‚
å‚è€ƒ

- [https://phoenixnap.com/kb/linux-commands](https://phoenixnap.com/kb/linux-commands)ï¼ˆæ¨èï¼‰
- [https://www.runoob.com/linux/linux-command-manual.html](https://www.runoob.com/linux/linux-command-manual.html)
- [https://www.linuxcool.com/](https://www.linuxcool.com/)
- 


> å¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ä¸­ï¼Œ
> - []    ä»£è¡¨å¯é€‰å‚æ•°ï¼Œ
> - <> ä»£è¡¨å¯è‡ªç”±è¾“å…¥è¾“å…¥çš„å­—ç¬¦
> - -     åé¢è·Ÿçš„æ˜¯ç¼©å†™
> - --    åé¢è·Ÿçš„æ˜¯å…¨æ‹¼



# æ–‡ä»¶

## ls

æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹æœ‰å“ªäº›æ–‡ä»¶

## mkdir

åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹

## touch

åˆ›å»ºä¸€ä¸ªæ–‡ä»¶

## rm

åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹

| å‚æ•° | è¯´æ˜                       |
| ---- | -------------------------- |
| i    | åˆ é™¤å‰é€ä¸€è¯¢é—®æ˜¯å¦åˆ é™¤     |
| f    | å¼ºåˆ¶åˆ é™¤                   |
| r    | å°†ç›®å½•åŠä¹‹ä¸‹çš„æ–‡ä»¶é€ä¸€åˆ é™¤ |



# æŸ¥çœ‹

## cat
`concatenate fiels and print`ï¼Œæ¥æ‰€æœ‰æŒ‡å®šæ–‡ä»¶å¹¶å°†ç»“æœå†™åˆ°æ ‡å‡†è¾“å‡º ã€‚
### ç”¨æ³•
`cat [é€‰é¡¹]... [æ–‡ä»¶]...`

### å¸¸ç”¨å‚æ•°
|     |     |     |
| --- | --- | --- |
|     |     |     |
|     |     |     |

### å¸¸ç”¨åœºæ™¯


## tail
```shell
# å¸¸ç”¨çš„æŸ¥çœ‹ç”Ÿäº§æ—¥å¿—çš„å‘½ä»¤
tail -f -n 200 log.log
```

# ç¼–è¾‘
## vi

## vim
## 


## sed
Stream EDitorï¼Œæµå¼ç¼–è¾‘å™¨ï¼Œç±»ä¼¼awkï¼Œä½†æ˜¯æ²¡æœ‰awkåŠŸèƒ½å¼ºå¤§ï¼Œä½†ç›¸å¯¹ç®€å•ã€‚
### ç”¨æ³•
`sed [OPTION]... {script-only-if-no-other-script} [input-file]...`
### å‚æ•°
| å‚æ•° | è¯´æ˜                                                                          |
| ---- | ----------------------------------------------------------------------------- |
| i    | ç›´æ¥ä¿®æ”¹è¯»å–çš„æ–‡ä»¶å†…å®¹ï¼Œ`sed -i 's///'`ï¼Œæ”¯æŒçš„ç•Œå®šç¬¦:`/`ã€`@`ã€`#`ã€`&#124;` |
|      |                                                                               |

### ä¸¾ä¾‹
```shell
# å°†/home/text.txtæ–‡ä»¶ä¸­çš„oldstræ›¿æ¢æˆnewstr
sed -i 's/oldstr/newstr/' /home/text.txt
sed -i 's/oldstr/newstr/g' /home/text.txt

# ä¸Šé¢çš„åŒºåˆ«å°±æ˜¯s///æ¯è¡Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªoldstrå¹¶æ›¿æ¢åå°±ä¼šç»“æŸï¼Œs///gä¸ä¼šç»“æŸï¼Œä¼šæ›¿æ¢åˆ°æœ€åä¸€ä¸ªå­—ç¬¦ä¸²

# å¦‚ä¸‹æµ‹è¯•ç”¨ä¾‹ï¼Œåˆ›å»ºä¸¤ä¸ªtxtæ–‡ä»¶ï¼Œå†™å…¥abcabca\nabcabcabca
```
![image.png](https://cdn.nlark.com/yuque/0/2023/png/21953536/1679498606268-77b52d4f-a471-4efb-a2e4-b2badb8ae9c8.png#averageHue=%232a343e&clientId=u5ce6f6a9-7c29-4&from=paste&height=347&id=u7873d025&originHeight=347&originWidth=448&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17823&status=done&style=none&taskId=u4addc969-37de-46d6-9f9d-fdb9ef37560&title=&width=448)


# è¿›ç¨‹
## top
`top`å‘½ä»¤å¯ä»¥å®æ—¶æ˜¾ç¤ºç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬CPUã€å†…å­˜ã€è¿›ç¨‹ï¼Œç±»ä¼¼Windowsçš„**ä»»åŠ¡ç®¡ç†å™¨**ï¼Œä½†æ˜¯æ›´å¼ºå¤§ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬æ’æŸ¥æœåŠ¡å™¨å¼‚å¸¸ã€‚

### ç”¨æ³•
`top -hv | -bcHiOSs -d secs -n max -u|U user -p pid(s) -o field -w [cols]`
### å¸¸ç”¨å‚æ•°
| å‚æ•° | è¯´æ˜ | ç”¨ä¾‹ |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |

### è¾“å‡ºè¯´æ˜
![image.png](/assets/images/LinuxCommand-20240318-0002.png)
ç¬¬ä¸€æ’ï¼š

- `top - 12:58:55 up 17 days, 19:53`ï¼šæŒ‡çš„æ˜¯è¿™å°æœåŠ¡å™¨åˆ°ä»Šå¤©çš„`12:58:55`å¯åŠ¨äº†17å¤©ï¼Œ19ä¸ªå°æ—¶ï¼Œ53åˆ†é’Ÿã€‚
- `1 user`ï¼šæŒ‡çš„æ˜¯è¿™å°æœåŠ¡å™¨ç›®å‰åªæœ‰ä¸€ä¸ªç”¨æˆ·å¤„äºç™»é™†çŠ¶æ€
- `load average: 0.01, 0.06, 0.06`ï¼šç³»ç»Ÿè´Ÿè½½ï¼Œä¸‰ä¸ªæ•°å€¼æŒ‡çš„æ˜¯1åˆ†é’Ÿå†…çš„è´Ÿè½½ï¼Œ5åˆ†é’Ÿå†…çš„è´Ÿè½½ï¼Œ15åˆ†é’Ÿå†…çš„è´Ÿè½½ã€‚

ç¬¬äºŒæ’

- `Tasks: 107 total`ï¼šè¿›ç¨‹æ•°é‡
   - `running`ï¼šè¿è¡Œä¸­çš„è¿›ç¨‹
   - `sleeping`ï¼šsleepingçŠ¶æ€ä¸­çš„è¿›ç¨‹
   - `stopped`ï¼šåœæ­¢çš„è¿›ç¨‹
   - `zombie`ï¼šåƒµå°¸è¿›ç¨‹

ç¬¬ä¸‰æ’

- `%Cpu(s)`:  
   - `us`ï¼šç”¨æˆ·ä½¿ç”¨CPU
   - `sy`
   - `ni`
   - `id`
   - `wa`
   - `hi`
   - `si`
   - `st`

ç¬¬å››æ’/ç¬¬äº”æ’

- `KiB Mem` ï¼šä»¥KiBä¸ºå•ä½çš„å†…å­˜ä¿¡æ¯
   - `total`,  æœåŠ¡å™¨æ€»å†…å­˜å¤§å°
   - `free`,   æœªè¢«ä½¿ç”¨çš„å†…å­˜
   - `used`,   ç›®å‰è¿›ç¨‹å ç”¨çš„å†…å­˜
   - `buff/cache`ï¼šç¼“å†²åŒºæ‰€å å†…å­˜
- `KiB Swap`ï¼šäº¤æ¢åŒºå¤§å°ï¼Œè¯¦ç»†ä¿¡æ¯å¯å‚è€ƒï¼š[Swap](https://baike.baidu.com/item/SWaP/2666174?fr=aladdin)
   - `total`ï¼š
   - `free`ï¼š
   - `used`ï¼š
   - `avail Mem`ï¼š 

å…¶ä»–ä¿¡æ¯

- PID 
- USER
- PR  
- NI    
- VIRT    
- RES    
- SHR S 
- %CPU 
- %MEM     
- TIME+ 
- COMMAND        
# ç½‘ç»œ
## ping
packet Internet grouperï¼Œæ˜¯ä¸€ç§å› ç‰¹ç½‘åŒ…æ¢ç´¢å™¨ï¼Œç”¨äºæµ‹è¯•ç½‘ç»œè¿æ¥é‡çš„ç¨‹åºã€‚
pingæ˜¯TCP/IPä½“ç³»ä¸­åº”ç”¨å±‚çš„ä¸€ä¸ªå‘½ä»¤ã€‚
pingå¯ä»¥é€šè¿‡å‘ç›®æ ‡IPå‘é€ä¸€ä¸ªICMPï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æŠ¥æ–‡æ§åˆ¶ä¿¡æ¯åè®®ï¼‰æŠ¥æ–‡ï¼Œæµ‹è¯•ç›®çš„IPæ˜¯å¦å¯è¾¾åŠäº†è§£å…¶æœ‰å…³çŠ¶æ€ã€‚

### åŠŸèƒ½

- æ£€æµ‹ç½‘ç»œè¿é€šæ€§
- æ£€æµ‹æ—¶å»¶
## netstat
æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ã€‚
**å‚æ•°**

| å‚æ•°       | è§£é‡Š             |
| ---------- | ---------------- |
| `-a --all` | æ˜¾ç¤ºæ‰€æœ‰çš„Socket |
|            |                  |



```shell
netstat -lnt
```
## ps
Process Statusï¼Œç”¨äºæ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€ã€‚
ç”¨æ³•ï¼š
`ps [options]`
`ps [--help]`


### ğŸŒ°
```shell
# æŸ¥æ‰¾æ‰€æœ‰çš„Javaè¿›ç¨‹  -aä»£è¡¨æŸ¥è¯¢æ‰€æœ‰ | ä»£è¡¨ç®¡é“  grepä»£è¡¨è¿‡æ»¤å‡º
ps -a | grep java

# æ’é™¤ç»“æœä¸­çš„grepè¿›ç¨‹
ps -a | grep java | grep -v grep
```

#### æ ¹æ®PIDæŸ¥æ‰¾å·¥ä½œç›®å½•
åœºæ™¯ï¼šæœ‰ä¸€ä¸ªæœåŠ¡Aè¢«åŒäº‹ä¸Šçº¿äº†ï¼Œä½†æ˜¯ä½ ä¸çŸ¥é“è¿™ä¸ªæœåŠ¡éƒ¨ç½²åœ¨å“ªäº†ï¼ŒåªçŸ¥é“éƒ¨ç½²åœ¨äº†å“ªå°æœåŠ¡å™¨ä»¥åŠæœåŠ¡çš„åç§°ï¼Œé‚£ä¹ˆæ­¤æ—¶ä½ è¯¥å¦‚ä½•å®šä½åˆ°è¿™ä¸ªæœåŠ¡éƒ¨ç½²åœ¨å“ªä¸ªç›®å½•ä¸‹äº†å‘¢ï¼Ÿ
æ–¹æ³•1ï¼š
```shell
# æŸ¥æ‰¾æœåŠ¡PID
ps -ef | grep 'service name'

# ç»ˆç«¯è¾“å‡ºå¦‚ä¸‹ï¼š
# op       18486     1  0 02:44 ?        00:01:12 java -jar -Xmx1g -Dspring.security.strategy=MODE_INHERITABLETHREADLOCAL stock-surge-1.0-SNAPSHOT.jar

# ç”±ä¸Šé¢çš„è¾“å‡ºä¿¡æ¯å¯çŸ¥æœåŠ¡çš„PIDä¸º18486

# æ ¹æ®æœåŠ¡PIDå®šä½å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®,procæ–‡ä»¶åŒ…å«æ‰€æœ‰çš„è¿›ç¨‹åŠå…¶è¯¦ç»†ä¿¡æ¯
cd /proc

# æ‰¾åˆ°å½“å‰çš„PID
ll | grep 18486

# è¿›å…¥å½“å‰PIDçš„ç›®å½•
cd 18486

# æŸ¥çœ‹cwdå¯¹åº”çš„å¼•ç”¨å€¼å³å½“å‰å·¥ä½œç›®å½•
```
å¯ä»¥å‚è€ƒï¼š

- [proc](https://tldp.org/LDP/Linux-Filesystem-Hierarchy/html/proc.html)

æ–¹æ³•2ï¼š
```shell
# ç›´æ¥æ ¹æ®lsof å‘½ä»¤æŸ¥æ‰¾å·¥ä½œç›®å½•
# æ‰¾åˆ°PID
ps -ef | grep 'service name'

# æŸ¥æ‰¾ç›¸å…³ä¿¡æ¯
lsof -p PID
```
# æŸ¥æ‰¾
## find

## locate 
```shell
locate file
```




# ç³»ç»Ÿç®¡ç†
## sudo
æŸ¥çœ‹æ‹¥æœ‰sudoæƒé™çš„ç”¨æˆ·ï¼š` /etc/sudoers `
```shell
# érootç”¨æˆ·ä½†æ‹¥æœ‰sudoæƒé™çš„ç”¨æˆ·æ›´æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç 
# å…ˆåˆ é™¤è¯¥ç”¨æˆ·å¯†ç 
sudo passwd -d user1

# åœ¨è¯¥è¯¥ç”¨æˆ·è®¾ç½®å¯†ç 
sudo -u user1 passwd
```

## uname
unix nameï¼Œç”¨äºæ˜¾ç¤ºæ“ä½œç³»ç»Ÿä¿¡æ¯ï¼Œå¦‚å†…æ ¸ç‰ˆæœ¬ã€ä¸»æœºåã€å¤„ç†å™¨ç­‰ã€‚

| å‚æ•° | è¯´æ˜                                                                       |
| ---- | -------------------------------------------------------------------------- |
| a    | æ˜¾ç¤ºå…¨éƒ¨çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…æ ¸åç§°ã€ä¸»æœºåã€æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€å¤„ç†å™¨ç±»å‹å’Œç¡¬ä»¶æ¶æ„ç­‰ |
| m    | æ˜¾ç¤ºå¤„ç†å™¨ç±»å‹                                                             |
| n    | æ˜¾ç¤ºä¸»æœºå                                                                 |
| r    | æ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬å·                                                             |
| v    | æ˜¾ç¤ºæ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬                                                         |
| p    | æ˜¾ç¤ºå¤„ç†å™¨ç±»å‹                                                             |

# Linuxä¸‰å‰‘å®¢
å¯å‚è€ƒï¼š[https://www.jianshu.com/p/f1402e96c9dd](https://www.jianshu.com/p/f1402e96c9dd)
## grep
global search regular expression and print out the lineï¼Œå…¨å±€æ­£åˆ™è¡¨è¾¾å¼æœç´¢å¹¶æ‰“å°è¯¥è¡Œï¼Œä¿—ç§°ç®¡é“ï¼Œç±»ä¼¼ä¸€å±‚è¿‡æ»¤ç½‘ï¼Œå¤šä¸Šä¸€å±‚å‘½ä»¤çš„ç»“æœé›†è¿›è¡Œè¿‡æ»¤.
ç”¨æ³•ï¼š`grep [options] <pattern> `

å‚æ•°

| å‚æ•° | è§£é‡Š |
| ---- | ---- |
|      |      |
|      |      |


## awk


## sed



# å‘½ä»¤æ‰‹å†Œ
å‡ºè‡ªï¼š
- [https://phoenixnap.com/kb/wp-content/uploads/2022/11/linuxCommandsAllUsersShouldKnow.pdf](https://phoenixnap.com/kb/wp-content/uploads/2022/11/linuxCommandsAllUsersShouldKnow.pdf)
- [linuxCommandsAllUsersShouldKnow.pdf](https://www.yuque.com/attachments/yuque/0/2023/pdf/21953536/1677561001341-bb64ab76-4777-4fce-a4e5-e637ea631274.pdf)



