---
icon: pen-to-square
date: 2021-03-17
order: 2
category:
  - mysql
title: è¡¨ 
tag:
- table
- command

---

### åˆ›å»ºè¡¨

> åˆ›å»ºMySQLæ•°æ®è¡¨éœ€è¦ä»¥ä¸‹ä¿¡æ¯ï¼š
>  
> - è¡¨å
> - è¡¨å­—æ®µå
> - å®šä¹‰æ¯ä¸ªè¡¨å­—æ®µ

```sql
CREATE TABLE 
[IF NOT EXISTS] TABLE_NAME 
(
    colum_name colum_type
     [
            AUTO_INCREMENT,     # è‡ªå¢
            PRIMARY KEY,     # ä¸»é”®
            UNIQUE,       # å”¯ä¸€é”®
            COMMENT 'æ³¨é‡Š',       # æ³¨é‡Š
            DEFAULT default_value,   # é»˜è®¤å€¼
            NOT NULL,      # éç©º
        ],
    colum_name colum_type,
    colum_name colum_type
)
[
    ENGINE=InnoDB|MyISAM,
    CHARSET=UTF8
];
```

#### è¡¨ç»“æ„è®¾è®¡

- è‡ªå¢åˆ—æ¨èä½¿ç”¨ `BIGINT`ç±»å‹
- å­—æ®µåœ¨æ»¡è¶³ä¸šåŠ¡è¦æ±‚çš„æƒ…å†µä¸‹å°½é‡é€‰æ‹©å å­—èŠ‚å°‘çš„ç±»å‹
- IPç±»å‹å­—æ®µæ¨èä½¿ç”¨intç±»å‹
- ä¸šåŠ¡æ´»è·ƒçš„è¡¨é¡»æœ‰è¡Œæ•°æ®çš„åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´
- è¡¨ä¸­å­—æ®µå°½é‡æ˜¯NOT NULL
- å­—ç¬¦é›†æ•°æ®åº“ã€æ•°æ®è¡¨å°½é‡é€‰utf8
- ä¸æ¨èä½¿ç”¨å¤–é”®
- å•è¡¨æ•°æ®å°½é‡ä¸è¦è¶…è¿‡5000ä¸‡è¡Œæˆ–æ•°æ®é‡ä¸å¤§äº30Gï¼ˆSSDç¡¬ç›˜ï¼‰
- å•è¡¨æ•°æ®å°½é‡ä¸è¦è¶…è¿‡2000ä¸‡è¡Œæˆ–æ•°æ®é‡ä¸å¤§äº15Gï¼ˆSASç¡¬ç›˜ï¼‰

ä¸¾ä¸ªğŸŒ°

```sql
# å­¦ç”Ÿè¡¨ï¼Œå­¦å·ï¼Œå§“åï¼Œå¹´é¾„ï¼Œç­çº§ï¼Œå‡ºç”Ÿå¹´æœˆï¼Œ
CREATE TABLE IF NOT EXISTS `table_student`(
    `id` int(8) UNSIGNED AUTO_INCREMENTï¼Œ
    `stu_num` int(8),
    `stu_name` varchar(16),
    `stu_age` int(3),
    `stu_class` varchar(10),
    `stu_birth` date,
    PRIMARY KEY (`id`)//è®¾ç½®ä¸»é”®ä¸ºid
)ENGINE=InnoDB DEFAULT CHARSET=UTF8;


# å­¦åˆ†è¡¨,å¸¦å¤–é”®stu_id
CREATE TABLE `table_score` (
    `id` int(8),
    `score` mediumint(4) ,
    `stu_id` int(8) unsigned,//è¿™é‡Œå¿…é¡»è·Ÿå­¦ç”Ÿè¡¨çš„ä¸»é”®ä¸€è‡´
    PRIMARY KEY (`id`),
    FOREIGN KEY (`stu_id`) REFERENCES `table_student` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=UTF8;

# ä¸å­˜åœ¨æ‰åˆ›å»ºè¡¨ï¼Œä¸”éœ€è¦å¸¦è‡ªå¢ä¸»é”®ï¼Œå”¯ä¸€é”®ï¼Œæ•°å€¼é»˜è®¤ä¸º0ï¼Œæ—¶é—´é»˜è®¤å½“å‰æ—¶é—´æŒ‰æˆ³ï¼Œä¸”å¸¦æ³¨é‡Š
create table if not exists `user_info_vip`(
    `id` INT(11) not null auto_increment primary key comment 'è‡ªå¢ID',
    `uid` INT(11) not null unique comment 'ç”¨æˆ·ID',
    `nick_name` varchar(64) comment 'æ˜µç§°',
    `achievement` int(11) default 0 comment 'æˆå°±å€¼',# æ•°å€¼é»˜è®¤0
    `level` int(11) comment 'ç”¨æˆ·ç­‰çº§',
    `job` varchar(32) comment 'èŒä¸šæ–¹å‘',
    `register_time` DATETIME default current_timestamp comment 'æ³¨å†Œæ—¶é—´' # æ—¶é—´é»˜è®¤å½“å‰æ—¶é—´æˆ³
)ENGINE=InnoDB DEFAULT CHARSET=UTF8;
```

> IF NOT EXISTSï¼šä¸å­˜åœ¨æ•°æ®åº“æ‰ä¼šåˆ›å»ºæ•°æ®åº“
>  
> UNSIGNEDï¼šæ— ç¬¦å·
>  
> AUTO_INCREMENTï¼šè‡ªå¢ï¼Œä¸€èˆ¬ç”¨åœ¨ä¸»é”®ï¼Œæ•°å€¼è‡ªåŠ¨+1
>  
> PRIMARY KEYï¼šå£°æ˜ä¸»é”®
>  
> ENGINEï¼šæ•°æ®åº“å¼•æ“
>  
> CHARSETï¼šæ•°æ®åº“ç¼–ç 

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220113161138.png)

### æŸ¥çœ‹è¡¨

```sql
# æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨
SHOW TABLES;

# æŸ¥çœ‹å½“å‰è¡¨ç»“æ„
DESC <table_name>;

# æŸ¥çœ‹è¡¨ä¿¡æ¯
SHOW TABLE STATUS;

# æŸ¥çœ‹è¡¨ä¿¡æ¯,é«˜å¯è¯»æ¨¡å¼
SHOW TABLE STATUS LIKE 'table_name'\G;

# æŸ¥çœ‹å»ºè¡¨è¯­å¥
SHOW CREATE TABLE <table_name>;
```

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114094651.png#id=X68Hl&originHeight=204&originWidth=588&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114094707.png#id=HZanr&originHeight=401&originWidth=524&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114094952.png#id=QHGib&originHeight=373&originWidth=1305&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

### åˆ é™¤è¡¨

```sql
DROP TABLE <æ•°æ®è¡¨åç§°>;
```

### ä¿®æ”¹è¡¨

```sql
# ä¿®æ”¹è¡¨å,æ—§çš„è¡¨æ˜å¯ä»¥ä¸å†™
ALTER TABLE <table_name> RENAME TO <new_name>
# or
ALTER TABLE <table_name> RENAME AS <new_name>

# æ·»åŠ åˆ—
ALTER TABLE <table_name> ADD COLUMN <colum_name> <colum_type>

# åˆ é™¤åˆ—
ALTER TABLE <table_name> DROP COLUMN <colum_name>

# ä¿®æ”¹åˆ—,åœ¨MySQLä¸­ä¿®æ”¹åˆ—å±æ€§éœ€è¦ä½¿ç”¨modifyè€Œä¸æ˜¯alter

# ä¿®æ”¹åˆ—å±æ€§ï¼Œå¯é€‰å‚æ•°ï¼šç»™åˆ—å¢åŠ å”¯ä¸€å±æ€§ UNIQUEï¼Œ
ALTER TABLE <table_name> MODIFY COLUMN <column_name> <data_type> [UNIQUE]

# ä¿®æ”¹åˆ—åç§°ä»¥åŠåˆ—å±æ€§ å¯é€‰å‚æ•°ï¼šNOT NULL|AUTO_INCREMENT|UNIQUE
ALTER TABLE <table_name> 
CHANGE COLUMN <old_column_name> <new_column_name> <data_type> [NOT NULL|AUTO_INCREMENT|UNIQUE]
```

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114093616.png#id=upojP&originHeight=482&originWidth=922&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114095936.png#id=Y1YXb&originHeight=513&originWidth=588&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

![image](https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114103438.png#id=mNG8U&originHeight=390&originWidth=589&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
