<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.29" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://imarshio.github.io/posts/notes/MySQL/%E7%B4%A2%E5%BC%95.html"><meta property="og:site_name" content="Blog"><meta property="og:title" content="索引"><meta property="og:description" content="索引是一个（？）的（？）。 索引有利有弊。在会用的人手里，利大大大于弊。在不会用的人手里，利弊不相上下（目前的我就是这个级别，所以说起索引，我也是蒙的很）。 首先啊，经过两天的基础学习，我知道了要想知道索引的好坏，那么你必须要先了解什么是索引，然后是它的数据结构---B+树。其次，你需要知道它是如何存储的，存储在哪，怎么调用。 准备 B 树 B+ 树 ..."><meta property="og:type" content="article"><meta property="og:image" content="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220325105633.png#id=fUAee&originHeight=424&originWidth=631&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-03-27T15:07:38.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="索引"><meta property="article:author" content="Marshio"><meta property="article:published_time" content="2021-03-17T00:00:00.000Z"><meta property="article:modified_time" content="2024-03-27T15:07:38.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"索引","image":["https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220325105633.png#id=fUAee&originHeight=424&originWidth=631&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=","https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220120154648.png#id=UNUdo&originHeight=289&originWidth=1316&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=","https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114154335.png#id=Wphjc&originHeight=171&originWidth=497&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=","https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114152544.png#id=WF0xy&originHeight=88&originWidth=488&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=","https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114152201.png#id=sFUaA&originHeight=85&originWidth=532&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=","https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114155321.png#id=RYEYi&originHeight=176&originWidth=1305&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=","https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114155433.png#id=duIJh&originHeight=184&originWidth=1303&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="],"datePublished":"2021-03-17T00:00:00.000Z","dateModified":"2024-03-27T15:07:38.000Z","author":[{"@type":"Person","name":"Marshio","url":"https://marshio.com"}]}</script><title>索引 | Blog</title><meta name="description" content="索引是一个（？）的（？）。 索引有利有弊。在会用的人手里，利大大大于弊。在不会用的人手里，利弊不相上下（目前的我就是这个级别，所以说起索引，我也是蒙的很）。 首先啊，经过两天的基础学习，我知道了要想知道索引的好坏，那么你必须要先了解什么是索引，然后是它的数据结构---B+树。其次，你需要知道它是如何存储的，存储在哪，怎么调用。 准备 B 树 B+ 树 ...">
    <link rel="preload" href="/assets/style-DHUGEkQH.css" as="style"><link rel="stylesheet" href="/assets/style-DHUGEkQH.css">
    <link rel="modulepreload" href="/assets/app-Dk5FZAP7.js"><link rel="modulepreload" href="/assets/索引.html-_EX4ePsB.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/horse.png" alt><!----><span class="vp-site-name hide-in-pad">Blog</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="Home"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Posts"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Posts</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>notes</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/notes/Logging Frameworks.html" aria-label="Logging Frameworks"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Logging Frameworks<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/notes/Design Patterns.html" aria-label="Design Patterns"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Design Patterns<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/notes/ECS Init.html" aria-label="ECS Init"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ECS Init<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/notes/How to build a Blog.html" aria-label="How to build a Blog"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>How to build a Blog<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/notes/Linux/Linux Command.html" aria-label="Linux Command"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Linux Command<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/notes/Linux/Linux File System.html" aria-label="Linux File System"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Linux File System<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>architect</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/posts/architect/1.html" aria-label="what&#39;s architect"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>what&#39;s architect<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="books"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>books</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/books/%E5%87%A4%E5%87%B0%E6%9E%B6%E6%9E%84.html" aria-label="凤凰架构"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>凤凰架构<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/books/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html" aria-label="操作系统"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>操作系统<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/books/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90.html" aria-label="数据结构与算法分析"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数据结构与算法分析<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/books/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" aria-label="计算机网络"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>计算机网络<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Tools"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-tool" style=""></span>Tools</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/tools/Java%20Tools.html" aria-label="Java"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Java<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/imarshio/imarshio.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">blogs</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Architect</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Notes</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Base</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Code</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Environment</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Linux</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">My SQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E6%90%AD%E5%BB%BA.html" aria-label="安装"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>安装<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E8%A1%A8.html" aria-label="表"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>表<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E6%95%B0%E6%8D%AE%E5%BA%93.html" aria-label="数据库管理"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数据库管理<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4.html" aria-label="基础命令"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>基础命令<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E5%87%BD%E6%95%B0.html" aria-label="b 函数"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>b 函数<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" aria-label="数据类型"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数据类型<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html" aria-label="用户管理"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>用户管理<!----></a></li><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/posts/notes/MySQL/%E7%B4%A2%E5%BC%95.html" aria-label="索引"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>索引<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E4%BA%8B%E5%8A%A1.html" aria-label="事务"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>事务<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E6%97%A5%E5%BF%97.html" aria-label="日志"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>日志<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E9%94%81.html" aria-label="锁"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>锁<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/notes/MySQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%95%E6%93%8E.html" aria-label="数据库引擎"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数据库引擎<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">源码</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">索引</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Postgresql</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">books</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/books/%E5%87%A4%E5%87%B0%E6%9E%B6%E6%9E%84.html" aria-label="凤凰架构"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>凤凰架构<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/books/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html" aria-label="操作系统"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>操作系统<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/books/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90.html" aria-label="数据结构与算法分析"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数据结构与算法分析<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/books/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" aria-label="计算机网络"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>计算机网络<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/books/%E9%87%8D%E6%9E%84.html" aria-label="重构"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>重构<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">tools</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/tools/Java%20Tools.html" aria-label="Java Tools"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Java Tools<!----></a></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>索引</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://marshio.com" target="_blank" rel="noopener noreferrer">Marshio</a></span><span property="author" content="Marshio"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-03-17T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 12 min</span><meta property="timeRequired" content="PT12M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category4 clickable" role="navigation">mysql</span><!--]--><meta property="articleSection" content="mysql"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/#准备">准备</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#what">WHAT？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#why">WHY？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#优点">优点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#缺点">缺点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#分类">分类</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/#索引类型">索引类型</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#聚簇索引">聚簇索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#非聚簇索引">非聚簇索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#单列索引">单列索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#组合索引">组合索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#唯一索引">唯一索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#覆盖索引">覆盖索引</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/#索引操作">索引操作</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#建表时指定索引">建表时指定索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#查看索引">查看索引</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/#删除索引">删除索引</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><blockquote><p>索引是一个（？）的（？）。</p><p>索引有利有弊。在会用的人手里，利大大大于弊。在不会用的人手里，利弊不相上下（目前的我就是这个级别，所以说起索引，我也是蒙的很）。</p><p>首先啊，经过两天的基础学习，我知道了要想知道索引的好坏，那么你必须要先了解什么是索引，然后是它的数据结构---B+树。其次，你需要知道它是如何存储的，存储在哪，怎么调用。</p></blockquote><h2 id="准备" tabindex="-1"><a class="header-anchor" href="#准备"><span>准备</span></a></h2><ul><li>B 树</li><li>B+ 树</li><li>B+ 树</li><li>B+ 树</li><li>。。。</li></ul><h3 id="what" tabindex="-1"><a class="header-anchor" href="#what"><span>WHAT？</span></a></h3><p>在关系数据库中，索引是一种<strong>单独</strong>的、<strong>物理</strong>的，对数据库表中的<strong>一列或多列</strong>的值进行<strong>排序</strong>的一种<strong>存储结构</strong>（B+树），他是表中一列或多列值的集合和一系列指向实际数据的指针集合（类似字典K-V）。</p><p>所以，索引独立于数据表，也是一个文件，所以索引也是<strong>存储在磁盘</strong>上的，每次开启MySQL客户端后，会加载索引文件到<strong>内存</strong>中。</p><h3 id="why" tabindex="-1"><a class="header-anchor" href="#why"><span>WHY？</span></a></h3><p>为什么使用索引？</p><p>因为索引能提高我们查询的效率，为什么能够提高我们的查询效率？这就需要说一下数据库查询的过程。</p><p>当数据库中有大量数据时，想要查询一条数据，最简单粗暴的方式就是逐一匹配（全表搜索），这既是最慢的，慢在两点，其一，<strong>待匹配的数据量</strong>大且<strong>无序</strong>，其二，加载数据所需的<strong>IO</strong>次数多，也会造成时间浪费。</p><p>为了减少上面所需时间，我们就需要从这两方面下手。</p><p>所以出现了以<strong>B+树</strong>为数据结构的索引。</p><p>B+树能保证IO次数不会太多，索引是行数据的<strong>关键值</strong>得集合，保证了小体量的数据，一个索引文件能够存储大量的索引。</p><p>创建索引时，你需要确保该索引是应用在 <code>SQL</code> 查询语句的条件(一般作为 <code>WHERE</code> 子句的条件)，即保证索引能起作用。</p><p>实际上，索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录。</p><h3 id="优点" tabindex="-1"><a class="header-anchor" href="#优点"><span>优点</span></a></h3><p><code>MySQL</code>索引的建立对于 <code>MySQL</code>的高效运行是很重要的，索引可以大大提高 <code>MySQL</code>的检索速度。</p><p>打个比方，如果合理的设计且使用索引的 <code>MySQL</code>是一辆兰博基尼的话，那么没有设计和使用索引的 <code>MySQL</code>就是一个人力三轮车。</p><p>拿汉语字典的目录页（索引）打比方，我们可以按拼音、笔画、偏旁部首等排序的目录（索引）快速查找到需要的字。</p><h3 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点"><span>缺点</span></a></h3><p>虽然索引大大提高了查询速度，同时却会降低更新表的速度，如对表进行 <code>INSERT</code>、<code>UPDATE</code>和 <code>DELETE</code>。因为更新表时，<code>MySQL</code>不仅要保存数据，还要保存一下索引文件。</p><p>索引文件会占用磁盘空间，所以，索引不是越多越好。</p><h3 id="分类" tabindex="-1"><a class="header-anchor" href="#分类"><span>分类</span></a></h3><p>根据底层实现可以分为<strong>B-Tree索引</strong>和<strong>哈希索引</strong>。</p><p>根据存储方式可以分<strong>聚簇索引</strong>和<strong>非聚簇索引</strong>，下还可分为<strong>单列索引</strong>、<strong>组合索引</strong>、<strong>普通索引</strong>、<strong>唯一索引</strong>、<strong>覆盖索引</strong></p><hr><h2 id="索引类型" tabindex="-1"><a class="header-anchor" href="#索引类型"><span>索引类型</span></a></h2><h3 id="聚簇索引" tabindex="-1"><a class="header-anchor" href="#聚簇索引"><span>聚簇索引</span></a></h3><blockquote><p>聚簇索引，按我的意思来说就是，其指向的地址包含行数据的全数据，即找到该索引，你就能通过索引指向的地址找到你需要的所有数据。有且仅有一个聚簇索引，可以等价理解为主键，其实他就是主键（有主键的情况下）。</p><p>官方原话：</p><p>The InnoDB term for a primary key index. InnoDB table storage is organized based on the values of the primary key columns, to speed up queries and sorts involving the primary key columns. For best performance, choose the primary key columns carefully based on the most performance-critical queries. Because modifying the columns of the clustered index is an expensive operation, choose primary columns that are rarely or never updated.</p><p>大致意思：</p><p>聚簇索引是InnoDB引擎中主键索引的术语。为了加快主键列的查询和排序，InnoDB的聚簇索引存储的是主键索引列。所以选择主键时需要认真选，不然后期维护很费时间和钱。</p><p>当然也是会有意外情况的，比如我们建表时没有选择主键，那么MySQL会如何处理呢？</p><p>① 聚簇索引默认选择主键。</p><p>② 如果表中没有定义主键，InnoDB会选择一个唯一（unique index）的非空索引代替。</p><p>③ 如果没有上面那样的索引，InnoDB会自动地创建一个6字节的隐式主键作为聚簇索引。</p></blockquote><p>举个🌰，来说明聚簇索引具体的功能。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">#数据表有以下字段</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> db_student<span class="token punctuation">(</span>
    id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    stu_num  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>  <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_age  <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>      <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_sex  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> stu_num
    <span class="token keyword">unique</span> <span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> db_student<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2017&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_student<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2018&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;里斯&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_student<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2019&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_student<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2020&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;王五&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 主键自增，所以我们不用插入，在数据库中会自动从1开始自增</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到主键是id，那么聚簇索引就是id，你在主键的索引文件中找到对应的列，假设索引文件如下（实际不是，只是为了好体现出聚簇索引）：</p><table><thead><tr><th>id</th><th>地址</th></tr></thead><tbody><tr><td>1</td><td>0001</td></tr><tr><td>2</td><td>0002</td></tr><tr><td>3</td><td>0003</td></tr><tr><td>4</td><td>0004</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 此时我们查询id=1的数据</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_student <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment"># 语句命中索引，所以我们会去索引文件查询id=1的数据行，找到后，根据地址去存储实际数据的文件找到该地址存储的数据，里面会包含（&#39;2017&#39;,&#39;张三&#39;,20,&#39;0&#39;）</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="非聚簇索引" tabindex="-1"><a class="header-anchor" href="#非聚簇索引"><span>非聚簇索引</span></a></h3><blockquote><p>非聚簇索引也叫二级索引、辅助索引、普通索引。</p><p>它的叶子节点指向的是主键索引的地址。命中非聚簇索引后，通过非聚簇索引文件找到聚簇索引文件的地址，再通过聚簇索引文件找到对应的数据，<u>非聚簇索引文件 --&gt; 聚簇索引文件</u> 的这一过程也叫<strong>回表</strong>。</p></blockquote><table><thead><tr><th></th><th>聚簇索引</th><th>非聚簇索引</th></tr></thead><tbody><tr><td>key</td><td>索引列的值（不能为空）</td><td>索引列的值（可以为空）</td></tr><tr><td>value</td><td>指向数据存储地址</td><td>指像聚簇索引文件地址</td></tr><tr><td>叶子节点</td><td>存储对应的行数据的地址</td><td>存储对应的主键值</td></tr></tbody></table><p>举个🌰</p><p>下表中，数字列为主键（聚簇索引）。</p><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220325105633.png#id=fUAee&amp;originHeight=424&amp;originWidth=631&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>图源：<a href="https://www.jianshu.com/p/fa8192853184" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/fa8192853184<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="单列索引" tabindex="-1"><a class="header-anchor" href="#单列索引"><span>单列索引</span></a></h3><blockquote><p>一个索引只包含单个列，一个表可以有多个单列索引，但这不是组合索引。</p></blockquote><h3 id="组合索引" tabindex="-1"><a class="header-anchor" href="#组合索引"><span>组合索引</span></a></h3><blockquote><p>又称联合索引，说的是一个索引包含多个列。</p><p>创建组合索引后，索引文件中的叶子节点会同时包含每个索引列的值，并根据多列排序</p></blockquote><p>举个🌰</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 建表时建立主键</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>db_stu<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>stu_num<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>stu_name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>stu_age<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span><span class="token punctuation">;</span>

<span class="token comment"># 建立组合索引,注意，这里不要加id，因为已经存在id索引文件了，</span>
<span class="token comment"># 组合索引:id,stu_num,stu_name在使用上并不会比组合索引：stu_num,stu_name + 主键索引：id好</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_union <span class="token keyword">ON</span> db_stu <span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> db_stu<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2017&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_stu<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2018&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_stu<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2019&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;里斯&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_stu<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2020&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 查看索引</span>
<span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> db_stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220120154648.png#id=UNUdo&amp;originHeight=289&amp;originWidth=1316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="最左匹配" tabindex="-1"><a class="header-anchor" href="#最左匹配"><span>最左匹配</span></a></h4><blockquote><p>说到组合索引，那就不得不说一下最左匹配原则了。</p><p>什么是最左匹配原则？</p><p>在创建了组合索引之后，并不是 <code>where</code>子句中包含组合索引就能命中组合索引的，想要命中组合索引时需要一定条件的。</p><p>有兴趣的小伙伴可以参考官方文档：<a href="https://dev.mysql.com/doc/refman/5.7/en/multiple-column-indexes.html" target="_blank" rel="noopener noreferrer">组合索引<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>官方原话：</p><p>If the table has a multiple-column index, any leftmost prefix of the index can be used by the optimizer to look up rows. For example, if you have a three-column index on <code>(col1, col2, col3)</code>, you have indexed search capabilities on <code>(col1)</code>, <code>(col1, col2)</code>, and <code>(col1, col2, col3)</code>.</p><p>最左匹配类似于选择省市县时，需要先选择省，缩小范围（确定下一级范围）这种意思。</p><p>表示假设对表中的（A，B，C）建立组合索引，那么能命中索引的场景如下</p><ul><li>（A，B，C）（A，B）（A），</li><li>使用通配符时，</li></ul></blockquote><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 联合索引为（stu_num,stu_name,stu_age）,能命中索引的情况如下</span>
<span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_stu <span class="token keyword">where</span> stu_num<span class="token operator">=</span><span class="token string">&#39;2017&#39;</span> <span class="token operator">and</span> stu_name<span class="token operator">=</span><span class="token string">&#39;ww&#39;</span> <span class="token operator">and</span> stu_age<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_stu <span class="token keyword">where</span> stu_num<span class="token operator">=</span><span class="token string">&#39;2017&#39;</span> <span class="token operator">and</span> stu_name<span class="token operator">=</span><span class="token string">&#39;ww&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_stu <span class="token keyword">where</span> stu_num<span class="token operator">=</span><span class="token string">&#39;2017&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># 剩下的都不能命中索引</span>
<span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_stu <span class="token keyword">where</span> stu_name <span class="token operator">=</span> <span class="token string">&#39;ww&#39;</span> <span class="token operator">and</span> stu_age<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="索引下推" tabindex="-1"><a class="header-anchor" href="#索引下推"><span>索引下推</span></a></h4><h3 id="唯一索引" tabindex="-1"><a class="header-anchor" href="#唯一索引"><span>唯一索引</span></a></h3><blockquote><p>它与普通索引类似，不同的就是</p><ul><li>索引列的值必须唯一，允许有空值。</li><li>如果是组合索引，则列值的组合必须唯一。</li></ul></blockquote><h3 id="覆盖索引" tabindex="-1"><a class="header-anchor" href="#覆盖索引"><span>覆盖索引</span></a></h3><blockquote><p>由于非覆盖索引的叶子节点没有完整的数据信息，所以我们需要<strong>回表</strong>，来保证我们能取到自己所需的数据，但是回表相当于又进行一次查询，可能会涉及多次IO。</p><p>覆盖索引并不是一种真的索引，他只是一种针对<strong>回表</strong>的优化方案。</p></blockquote><p>举个🌰</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 创建一个表，查询其中的两个值</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> db_test<span class="token punctuation">(</span>
 <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">innodb</span><span class="token punctuation">;</span>

<span class="token comment"># 创建name为普通索引</span>
<span class="token keyword">create</span> <span class="token keyword">index</span> index_name <span class="token keyword">on</span> db_test<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 插入示例数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_test<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_test<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_test<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;ww&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>业务场景：看如下信息查询的不同</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># </span>
<span class="token keyword">select</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age <span class="token keyword">from</span> db_test <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">from</span> db_test <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>首先这里涉及到了MySQL存储索引的方式，需要了解B+树的结构，还需要了解索引文件的结构</p><p>第一条语句执行顺序：先去name的索引文件找到“zs”，根据“zs”找到数据ID，再根据ID，去ID的索引文件（聚簇索引文件）中寻找匹配的数据，返回数据。</p><p>第二条语句执行顺序：去name的索引文件找到“zs”，根据“zs”找到了ID，这时已经找到了所需数据，直接返回数据。</p><p>上面的不同是，第二条语句没有<strong>回表</strong>，仅靠辅助索引就找到了所需的数据，这就是覆盖索引。</p></blockquote><h2 id="索引操作" tabindex="-1"><a class="header-anchor" href="#索引操作"><span>索引操作</span></a></h2><h3 id="建表时指定索引" tabindex="-1"><a class="header-anchor" href="#建表时指定索引"><span>建表时指定索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 建表时添加主键索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">(</span>  
 <span class="token identifier"><span class="token punctuation">`</span>ID<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>   
 <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  
 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ID<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 建表时添加普通索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">(</span>  
 <span class="token identifier"><span class="token punctuation">`</span>ID<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>   
 <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  
 <span class="token keyword">INDEX</span> <span class="token punctuation">[</span>indexName<span class="token punctuation">]</span> <span class="token punctuation">(</span>username<span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 建表时指定唯一索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">(</span>  
 <span class="token identifier"><span class="token punctuation">`</span>ID<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>   
 <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  
 <span class="token keyword">UNIQUE</span> <span class="token punctuation">[</span>indexName<span class="token punctuation">]</span> <span class="token punctuation">(</span>username<span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 建表时添加组合索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">(</span>  
 <span class="token identifier"><span class="token punctuation">`</span>ID<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>   
 <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>userage<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 <span class="token keyword">INDEX</span> <span class="token operator">&lt;</span>indexName<span class="token operator">&gt;</span> <span class="token punctuation">(</span>username<span class="token punctuation">,</span>userage<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114154335.png#id=Wphjc&amp;originHeight=171&amp;originWidth=497&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="添加索引" tabindex="-1"><a class="header-anchor" href="#添加索引"><span>添加索引</span></a></h4><blockquote><p>表构建完成，最好在添加数据前就想好如何建立索引。</p><p>添加索引有两种方式</p><ul><li>ALTER TABLE table_name ADD INDEX …</li><li>CREATE INDEX … ON table_name ，（推荐，相对修改表结构更快）</li></ul></blockquote><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 修改表结构,添加普通索引</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> <span class="token operator">&lt;</span>index_name<span class="token operator">&gt;</span><span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 修改表结构,添加唯一索引</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token operator">&lt;</span>index_name<span class="token operator">&gt;</span><span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 修改表结构，添加全文索引</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">ADD</span> FULLTEXT <span class="token operator">&lt;</span>index_name<span class="token operator">&gt;</span><span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment"># 添加普通索引，最后这个括号必须要加,</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> <span class="token operator">&lt;</span>indexName<span class="token operator">&gt;</span> <span class="token keyword">ON</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 添加唯一索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> <span class="token operator">&lt;</span>indexName<span class="token operator">&gt;</span> <span class="token keyword">ON</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 添加全文索引</span>
<span class="token keyword">CREATE</span> FULLTEXT <span class="token keyword">INDEX</span> <span class="token operator">&lt;</span>indexName<span class="token operator">&gt;</span> <span class="token keyword">ON</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114152544.png#id=WF0xy&amp;originHeight=88&amp;originWidth=488&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114152201.png#id=sFUaA&amp;originHeight=85&amp;originWidth=532&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="查看索引" tabindex="-1"><a class="header-anchor" href="#查看索引"><span>查看索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114155321.png#id=RYEYi&amp;originHeight=176&amp;originWidth=1305&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><strong>Table:</strong> 表名</p><p><strong>Non_unique:</strong> 是否为唯一索引，0为是，1为不是。</p><p><strong>Key_name 索引名称</strong>，如果名字相同则表明是同一个索引，而并不是重复，比如上图中的第四、五条数据，索引名称都是<strong>name</strong>，其实是一个联合索引。</p><p><strong>Seq_in_index</strong> 索引中的列序列号，从1开始。上图中的四、五条数据，<strong>Seq_in_index</strong>一个是1一个是2，就是表明在联合索引中的顺序，我们就能推断出联合索引中索引的前后顺序。</p><p><strong>Column_name</strong> 索引的列名。</p><p><strong>Collation</strong>指的是列以什么方式存储在索引中，大概意思就是字符序。</p><p><strong>Cardinality</strong> 是基数的意思，表示索引中唯一值的数目的估计值。我们知道某个字段的重复值越少越适合建索引，所以我们一般都是根据<strong>Cardinality</strong>来判断索引是否具有高选择性，如果这个值非常小，那就需要重新评估这个字段是否适合建立索引。</p><p><strong>Sub_part</strong> 前置索引的意思，如果列只是被部分地编入索引，则为被编入索引的字符的数目。如果整列被编入索引，则为NULL。</p><p><strong>Packed</strong> 指示关键字如何被压缩。如果没有被压缩，则为NULL。压缩一般包括压缩传输协议、压缩列解决方案和压缩表解决方案。</p><p><strong>Null</strong> 如果列含有NULL，则含有YES。</p><p><strong>Index_type</strong>表示索引类型，Mysql目前主要有以下几种索引类型：FULLTEXT，HASH，BTREE。</p><p><strong>Comment Index_comment</strong> 注释的意思。</p></blockquote><h3 id="删除索引" tabindex="-1"><a class="header-anchor" href="#删除索引"><span>删除索引</span></a></h3><p>同添加索引，一样有两种方式删除索引</p><ul><li>DROP，直接删除索引 （推荐，相比修改表结构更快）</li><li>ALTER，修改表结构</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># 直接删除,如果不写的话，默认删除全部</span>
<span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> <span class="token punctuation">[</span>index_name<span class="token punctuation">]</span> <span class="token keyword">ON</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>

<span class="token comment"># 修改表结构</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> <span class="token operator">&lt;</span>index_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220114155433.png#id=duIJh&amp;originHeight=184&amp;originWidth=1303&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/imarshio/imarshio.github.io/edit/main/blog/posts/notes/MySQL/索引.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: marshioman@gmail.com">marshio</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/posts/notes/MySQL/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html" aria-label="用户管理"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>用户管理</div></a><a class="route-link nav-link next" href="/posts/notes/MySQL/%E4%BA%8B%E5%8A%A1.html" aria-label="事务"><div class="hint">Next<span class="arrow end"></span></div><div class="link">事务<span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">備案號</div><div class="vp-copyright">Copyright © 2024 Marshio </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Dk5FZAP7.js" defer></script>
  </body>
</html>
