import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as i,b as n}from"./app-BxKY2YuM.js";const a={},o=n('<h3 id="myisam" tabindex="-1"><a class="header-anchor" href="#myisam"><span>MyISAM</span></a></h3><h3 id="innodb" tabindex="-1"><a class="header-anchor" href="#innodb"><span>InnoDB</span></a></h3><h4 id="可以存多少数据" tabindex="-1"><a class="header-anchor" href="#可以存多少数据"><span>可以存多少数据</span></a></h4><p>想要知道这个，我们就需要知道</p><ul><li>计算机中，磁盘存储数据的最小单元是扇区，一个扇区占512字节。</li><li>文件系统中，最小单位是块，一个块大小就是4K。</li><li>InnoDB存储引擎最小存储单元是页，一页大小是4块，即16K。所以InnoDB读取一次将会读取16K的内容。</li></ul><figure><img src="https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220121110741.png#id=LUZ9j&amp;originHeight=229&amp;originWidth=601&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>生产环境中，B+树得高度在3-4层，叶子节点在最后一层，则有2-3层为索引层。</p><p>再结合B+树中，叶子节点存储数据，非叶子节点存储键值-指针，即索引-指针（注意这里考虑的是主键索引，因为只有主键索引的B+树才会存储数据）。</p><p>假设索引为ID，long类型（8字节），指针在InnoDB中一个指针大小为8字节（实际上是6字节），所以在非叶子节点中一条数据就是8+8=16字节。那么总共能存储的数据条数为：</p><p>第一层存储的索引节点 x 第二层存储的索引节点 x 第三层存储的索引节点，即</p><p>$[(16<em>1024) / 16] * [(16</em>1024)/16] = 1048576$</p><p>或</p><p>$[(16<em>1024) / 16] * [(16</em>1024) / 16] * [(16*1024) / 16] = 1073741824$</p><p>假设每条数据占1K字节，那么一个叶子节点可以存16K/1K = 16条数据</p><p>所以能存放的数据量为：<u>1048567 * 16 = 16777216</u> 条数据，即三层就能实现千万级（16G）存储。</p><p>当然这里也需要说明一下，这是因为主键声明的较小，如果主键索引数据量*10，那么级别就会降低为十万级。</p>',16),s=[o];function r(p,m){return e(),i("div",null,s)}const g=t(a,[["render",r],["__file","mysql数据库引擎.html.vue"]]),h=JSON.parse('{"path":"/posts/notes/MySQL/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%95%E6%93%8E.html","title":"数据库引擎","lang":"en-US","frontmatter":{"icon":"pen-to-square","date":"2021-03-17T00:00:00.000Z","category":["mysql"],"title":"数据库引擎","description":"MyISAM InnoDB 可以存多少数据 想要知道这个，我们就需要知道 计算机中，磁盘存储数据的最小单元是扇区，一个扇区占512字节。 文件系统中，最小单位是块，一个块大小就是4K。 InnoDB存储引擎最小存储单元是页，一页大小是4块，即16K。所以InnoDB读取一次将会读取16K的内容。 生产环境中，B+树得高度在3-4层，叶子节点在最后一层，...","head":[["meta",{"property":"og:url","content":"https://imarshio.github.io/posts/notes/MySQL/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%95%E6%93%8E.html"}],["meta",{"property":"og:site_name","content":"Blog"}],["meta",{"property":"og:title","content":"数据库引擎"}],["meta",{"property":"og:description","content":"MyISAM InnoDB 可以存多少数据 想要知道这个，我们就需要知道 计算机中，磁盘存储数据的最小单元是扇区，一个扇区占512字节。 文件系统中，最小单位是块，一个块大小就是4K。 InnoDB存储引擎最小存储单元是页，一页大小是4块，即16K。所以InnoDB读取一次将会读取16K的内容。 生产环境中，B+树得高度在3-4层，叶子节点在最后一层，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220121110741.png#id=LUZ9j&originHeight=229&originWidth=601&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-03-26T15:49:16.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"数据库引擎"}],["meta",{"property":"article:author","content":"Marshio"}],["meta",{"property":"article:published_time","content":"2021-03-17T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-26T15:49:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"数据库引擎\\",\\"image\\":[\\"https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220121110741.png#id=LUZ9j&originHeight=229&originWidth=601&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=\\"],\\"datePublished\\":\\"2021-03-17T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-26T15:49:16.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Marshio\\",\\"url\\":\\"https://marshio.com\\"}]}"]]},"headers":[{"level":3,"title":"MyISAM","slug":"myisam","link":"#myisam","children":[]},{"level":3,"title":"InnoDB","slug":"innodb","link":"#innodb","children":[]}],"git":{"createdTime":1711468156000,"updatedTime":1711468156000,"contributors":[{"name":"marshio","email":"marshioman@gmail.com","commits":1}]},"readingTime":{"minutes":1.53,"words":460},"filePathRelative":"posts/notes/MySQL/mysql数据库引擎.md","localizedDate":"March 17, 2021","excerpt":"<h3>MyISAM</h3>\\n<h3>InnoDB</h3>\\n<h4>可以存多少数据</h4>\\n<p>想要知道这个，我们就需要知道</p>\\n<ul>\\n<li>计算机中，磁盘存储数据的最小单元是扇区，一个扇区占512字节。</li>\\n<li>文件系统中，最小单位是块，一个块大小就是4K。</li>\\n<li>InnoDB存储引擎最小存储单元是页，一页大小是4块，即16K。所以InnoDB读取一次将会读取16K的内容。</li>\\n</ul>\\n<figure><img src=\\"https://masuo-github-image.oss-cn-beijing.aliyuncs.com/image/20220121110741.png#id=LUZ9j&amp;originHeight=229&amp;originWidth=601&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=\\" alt=\\"\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption></figcaption></figure>","autoDesc":true}');export{g as comp,h as data};
