import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o,c as l,d as n,e as a,f as t,b as s}from"./app-BcM_rFa5.js";const c={},d=s(`<h2 id="å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°"><span>å‡½æ•°</span></a></h2><blockquote><p>MySQLè‡ªå¸¦å¾ˆå¤šå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸ºæˆ‘ä»¬çš„æŸ¥è¯¢æä¾›äº†æå¤§çš„æ–¹ä¾¿ã€‚</p></blockquote><h3 id="mathå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#mathå‡½æ•°"><span>Mathå‡½æ•°</span></a></h3><h4 id="max" tabindex="-1"><a class="header-anchor" href="#max"><span>MAX</span></a></h4><p>æ±‚ä¸€åˆ—çš„æœ€å¤§å€¼</p><h4 id="min" tabindex="-1"><a class="header-anchor" href="#min"><span>MIN</span></a></h4><p>æ±‚ä¸€åˆ—çš„æœ€å°å€¼</p><h4 id="sum" tabindex="-1"><a class="header-anchor" href="#sum"><span>SUM</span></a></h4><p>æ±‚ä¸€åˆ—çš„å’Œ</p><h4 id="round" tabindex="-1"><a class="header-anchor" href="#round"><span>ROUND</span></a></h4><p>è¿”å›ç¦»å€¼Xæœ€è¿‘çš„æ•°ï¼ˆå››èˆäº”å…¥ï¼‰ï¼Œæ”¯æŒå°æ•°ä½ä½æ•°</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code># å››èˆäº”å…¥
SELECT ROUND(1.4) = 1

# ä¸¤ä½å°æ•°
SELECT ROUND(1.455ï¼Œ2) = 1.46
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="rand" tabindex="-1"><a class="header-anchor" href="#rand"><span>RAND</span></a></h4><p>éšæœºæ•°ï¼ŒèŒƒå›´[0,1)</p><h3 id="å­—ç¬¦å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦å‡½æ•°"><span>å­—ç¬¦å‡½æ•°</span></a></h3><h4 id="substr" tabindex="-1"><a class="header-anchor" href="#substr"><span>SUBSTR</span></a></h4><p><code>SUBSTR</code>æ˜¯ä¸€ä¸ªå­—ç¬¦å‡½æ•°ï¼Œç±»ä¼¼äºJavaä¸­çš„ <code>substring()</code>æ–¹æ³•ï¼Œä½†ç•¥æœ‰ä¸åŒã€‚</p><p>è¯­æ³•ï¼Œæ³¨æ„åœ¨MySQLä¸­ <code>SUBSTR</code>æ˜¯ä»1å¼€å§‹çš„ï¼Œä¸æ˜¯0ã€‚</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code># ä½¿ç”¨æ–¹æ³•1,ä»£è¡¨ä»startå¼€å§‹ï¼Œæˆªå–lengthé•¿åº¦çš„å­—ç¬¦ä¸²
SUBSTR(s, start, length)

# ä½¿ç”¨æ–¹æ³•2ï¼Œä»£è¡¨ä»startå¼€å§‹ï¼Œæˆªå–lengthé•¿åº¦çš„å­—ç¬¦ä¸²
SUBSTR(s FROM start FOR length)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="substring" tabindex="-1"><a class="header-anchor" href="#substring"><span>SUBSTRING</span></a></h4><p>ç­‰åŒäº [SUBSTR]( # SUBSTR)ã€‚</p><h4 id="concat" tabindex="-1"><a class="header-anchor" href="#concat"><span>CONCAT</span></a></h4><p>æœ‰å­—ç¬¦ä¸²æˆªå–ï¼Œè‡ªç„¶ä¹Ÿæ˜¯æœ‰å­—ç¬¦ä¸²æ‹¼æ¥çš„ï¼Œåœ¨MySQLä¸­çš„å­—ç¬¦ä¸²æ‹¼æ¥å°±æ˜¯ <code>CONCAT(str1,str2...strN)</code>ã€‚</p><p><code>CONCAT()</code>å‡½æ•°ç”¨äºåˆå¹¶å¤šä¸ªå­—ç¬¦ä¸²ã€‚</p><h4 id="concat-ws" tabindex="-1"><a class="header-anchor" href="#concat-ws"><span>CONCAT_WS</span></a></h4><p>åœ¨æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ·»åŠ åˆ†éš”ç¬¦ã€‚</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>CONCAT_WS<span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;hi&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;how are you&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="left" tabindex="-1"><a class="header-anchor" href="#left"><span>LEFT</span></a></h4><p><code>LEFT</code>æ˜¯ä¸€ä¸ªå­—ç¬¦å‡½æ•°ï¼Œå¦‚ <code>LEFT(&quot;mysql&quot;, 2)</code>è¡¨ç¤ºå–å­—ç¬¦çš„å‰ä¸‰ä¸ªå­—ç¬¦ï¼Œå³ <code>my</code>ã€‚</p><p>è¯­æ³•</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># ä»å­—ç¬¦ä¸²ä¸­æå–nä¸ªå­—ç¬¦</span>
<span class="token keyword">LEFT</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span> number<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ³¨æ„ï¼Œ<code>number</code>æ˜¯å¯ä»¥å¤§äºå­—ç¬¦é•¿åº¦çš„ï¼Œè¿™æ ·å–å‡ºæ¥çš„å°±æ˜¯æ•´ä¸ªå­—ç¬¦ï¼Œä¸”å­—ç¬¦é•¿åº¦ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p><p>ä¸¾ä¸ªğŸŒ°</p><p>ä¸Šé¢SQLçš„ç»“æœå°±æ˜¯ 5 ï¼Œè€Œä¸æ˜¯10ã€‚</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> LENGTH<span class="token punctuation">(</span><span class="token keyword">LEFT</span><span class="token punctuation">(</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="right" tabindex="-1"><a class="header-anchor" href="#right"><span>RIGHT</span></a></h4><p>å‚ç…§ [LEFT](# LEFT)ã€‚</p><h4 id="lcase" tabindex="-1"><a class="header-anchor" href="#lcase"><span>LCASE</span></a></h4><h4 id="lower" tabindex="-1"><a class="header-anchor" href="#lower"><span>LOWER</span></a></h4><h4 id="upcase" tabindex="-1"><a class="header-anchor" href="#upcase"><span>UPCASE</span></a></h4><h3 id="æ—¶é—´å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ—¶é—´å‡½æ•°"><span>æ—¶é—´å‡½æ•°</span></a></h3><h4 id="date" tabindex="-1"><a class="header-anchor" href="#date"><span>DATE</span></a></h4><p><code>DATE</code>å‡½æ•°è¿”å›ä¸€ä¸ªdatetimeç±»å‹çš„æ—¶é—´çš„<strong>å¹´æœˆæ—¥</strong>ã€‚</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DATE</span><span class="token punctuation">(</span><span class="token string">&#39;2021-01-01 12:20:00&#39;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;2021-01-01&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="date-format" tabindex="-1"><a class="header-anchor" href="#date-format"><span>DATE_FORMAT</span></a></h4><p><code>DATE_FORMAT(d,f)</code>æ—¥æœŸæ ¼å¼åŒ–ï¼Œä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ—¥æœŸï¼Œä¸€ä¸ªformatï¼Œå°†æ—¥æœŸæŒ‰ç…§formatæ ¼å¼åŒ–</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>DATE_FORMAT<span class="token punctuation">(</span><span class="token string">&#39;2021-01-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%Y - %m - %d&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="datediff" tabindex="-1"><a class="header-anchor" href="#datediff"><span>DATEDIFF</span></a></h4><p><code>datediff(d1,d2)</code>ï¼Œè¿”å›ä¸¤æ—¶é—´ä¹‹é—´çš„å¤©æ•°å·®ï¼ˆd1 - d2ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>DATEDIFF<span class="token punctuation">(</span><span class="token string">&#39;2021-01-05 12:20:00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2021-01-01 12:20:00&#39;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="timediff" tabindex="-1"><a class="header-anchor" href="#timediff"><span>TIMEDIFF</span></a></h4><p><code>TIMEDIFF(t1,t2)</code>ï¼Œè¿”å›ä¸¤æ—¶é—´å·®ï¼Œ</p><h4 id="timestampdiff" tabindex="-1"><a class="header-anchor" href="#timestampdiff"><span>TIMESTAMPDIFF</span></a></h4><p><code>TIMESTAMPDIFF(unit,d1,d2)</code>ï¼Œè®¡ç®—æ—¶é—´å·®(d2-d1)ï¼ŒæŒ‰ç…§unitä¸ºå•ä½è®¡ç®—</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># unit = DAY ,ä»¥å¤©ä¸ºå•ä½è¿”å›</span>
timestampdiff<span class="token punctuation">(</span><span class="token keyword">DAY</span><span class="token punctuation">,</span><span class="token string">&#39;2003-02-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2003-05-01&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># unit = MONTHï¼Œä»¥æœˆä¸ºå•ä½è¿”å›ï¼Œ</span>
TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">MONTH</span><span class="token punctuation">,</span><span class="token string">&#39;2003-02-01&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2003-05-01&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># unit è¿˜å¯ä»¥ç­‰äºYEARã€MINUTE</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.nlark.com/yuque/0/2022/png/21953536/1666407897665-aee20eb3-3173-4b2e-8667-113e98be101b.png#averageHue=%230a0a0a&amp;clientId=ud85b59f9-2d5d-4&amp;id=LVEre&amp;originHeight=372&amp;originWidth=494&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13745&amp;status=done&amp;style=none&amp;taskId=u521d3a97-a0f7-4a54-aa8b-265e95f4ef4&amp;title=" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="é«˜çº§å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#é«˜çº§å‡½æ•°"><span>é«˜çº§å‡½æ•°</span></a></h3><h4 id="if" tabindex="-1"><a class="header-anchor" href="#if"><span>IF</span></a></h4><p><code>IF</code>æ˜¯ä¸€ä¸ªä¸‰å…ƒå‡½æ•°ï¼Œç±»ä¼¼äºJavaçš„ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œä»–ä¼šè®¡ç®—ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œå¦‚æœä¸ºçœŸå°±è¿”å›ç¬¬äºŒä¸ªè¡¨è¾¾å¼ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸‰ä¸ªã€‚</p><p><strong>è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># è®¡ç®—expressï¼Œä¸ºçœŸè¿”å›v1ï¼Œå¦åˆ™è¿”å›v2</span>
<span class="token keyword">IF</span><span class="token punctuation">(</span>express<span class="token punctuation">,</span>v1<span class="token punctuation">,</span>v2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="case" tabindex="-1"><a class="header-anchor" href="#case"><span>CASE</span></a></h4><p><code>CASE</code>æ˜¯MySQLçš„é«˜çº§å‡½æ•°ä¹‹ä¸€ï¼Œå…¶å®ç”¨ç±»ä¼¼äºJavaçš„caseã€‚</p><p><strong>è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment"># ç”¨æ³•1ï¼Œç®€å•ï¼Œæœºæ¢°æœ‰ä¸€å®šçš„é™åˆ¶</span>
<span class="token keyword">CASE</span> expression
    <span class="token keyword">WHEN</span> condition1 <span class="token keyword">THEN</span> result1
    <span class="token keyword">WHEN</span> condition2 <span class="token keyword">THEN</span> result2
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">WHEN</span> conditionN <span class="token keyword">THEN</span> resultN
    <span class="token keyword">ELSE</span> result
<span class="token keyword">END</span>

<span class="token comment"># ç”¨æ³•2ï¼Œç®€å•ï¼Œçµæ´»</span>
<span class="token keyword">CASE</span> 
    <span class="token keyword">WHEN</span> <span class="token operator">&lt;</span>expression1<span class="token operator">&gt;</span> <span class="token keyword">THEN</span> result1
    <span class="token keyword">WHEN</span> <span class="token operator">&lt;</span>expression2<span class="token operator">&gt;</span> <span class="token keyword">THEN</span> result2
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">WHEN</span> <span class="token operator">&lt;</span>expressionN<span class="token operator">&gt;</span> <span class="token keyword">THEN</span> resultN
    <span class="token keyword">ELSE</span> result
<span class="token keyword">END</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºä¸¤ç§ä½¿ç”¨æ¥è¯´ï¼Œ<code>CASE</code>è¡¨ç¤ºå‡½æ•°çš„å¼€å§‹ï¼Œ<code>END</code>è¡¨ç¤ºå‡½æ•°çš„ç»“æŸã€‚</p><p><strong>ç”¨æ³•1</strong></p><p>é’ˆå¯¹ä¸€ä¸ªè¡¨è¾¾å¼çš„ä¸åŒå€¼è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœ <code>condition1</code>æˆç«‹åˆ™è¿”å› <code>result1</code>ï¼Œå…¶ä½™æƒ…å†µåŒç†ï¼Œå½“æ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›resultã€‚</p><p><strong>ç”¨æ³•2</strong></p><p>é’ˆå¯¹å¤šä¸ªè¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼Œç±»ä¼¼äº <code>if-else</code>ï¼Œå¦‚æœ <code>expression1</code>æˆç«‹åˆ™è¿”å› <code>result1</code>ï¼Œå…¶ä½™æƒ…å†µåŒç†ï¼Œå½“æ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›resultã€‚</p><p><strong>æ³¨æ„</strong></p><p><code>THEN</code>å’Œ <code>ELSE</code></p><h4 id="dense-rank" tabindex="-1"><a class="header-anchor" href="#dense-rank"><span>DENSE_RANK</span></a></h4><p><code>DENSE_RANK</code>æ˜¯ä¸€ä¸ªçª—å£å‡½æ•°ï¼Œä»–ä¸ºåˆ†åŒºæˆ–ç»“æœé›†ä¸­çš„æ¯ä¸€è¡Œæ•°æ®åˆ†é…æ’åï¼Œä¸”æ’åæ²¡æœ‰é—´éš™ï¼Œå¦‚æœæœ‰å¤šä¸ªç›¸åŒæ’åçš„å€¼ï¼Œé‚£ä¹ˆä»–ä»¬çš„æ’åå€¼æ˜¯ç›¸åŒçš„ã€‚</p><p><strong>è¯­æ³•</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>DENSE_RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span> <span class="token punctuation">(</span>
    <span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span><span class="token punctuation">[</span>{<span class="token punctuation">,</span><span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>}<span class="token punctuation">]</span>
    <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token operator">|</span><span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>{<span class="token punctuation">,</span><span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>}<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>PARTITION BY</code>ï¼Œå°† <code>FROM</code>å­—å¥ç”Ÿæˆçš„ç»“æœæŒ‰æ¡ä»¶åˆ†åŒºï¼Œè¯¥å‡½æ•°åº”ç”¨äºæ¯ä¸ªåˆ†åŒºã€‚</li><li><code>ORDER BY</code>ï¼ŒæŒ‡å®šæ¯ä¸ªåˆ†åŒºçš„æ’åºè§„åˆ™ã€‚</li></ul><p><strong>å®ä¾‹</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># è¡¨Scores</span>
+----+-------+
<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> score <span class="token operator">|</span>
+----+-------+
<span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">3.50</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">3.65</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">4.00</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>  <span class="token operator">|</span> <span class="token number">3.85</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span>  <span class="token operator">|</span> <span class="token number">4.00</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>  <span class="token operator">|</span> <span class="token number">3.65</span>  <span class="token operator">|</span>
+----+-------+

<span class="token comment"># SQL</span>
SELECT score,DENSE_RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> OVER <span class="token punctuation">(</span>ORDER BY score DESC<span class="token punctuation">)</span> <span class="token string">&#39;rank&#39;</span>
FROM Scores
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.nlark.com/yuque/0/2022/png/21953536/1666407897663-3d62b17d-fbc0-4879-956c-adbfb962d043.png#averageHue=%23f5f3f1&amp;clientId=ud85b59f9-2d5d-4&amp;id=yHqxU&amp;originHeight=180&amp;originWidth=134&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4177&amp;status=done&amp;style=none&amp;taskId=u165314f2-ee6d-4dc5-b755-9a92d5e9fac&amp;title=" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h2 id="è‡ªå»ºå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è‡ªå»ºå‡½æ•°"><span>è‡ªå»ºå‡½æ•°</span></a></h2>`,79),r=n("p",null,"MySQLè‡ªå¸¦å¾ˆå¤šå‡½æ•°ï¼Œè¿™äº›å‡½æ•°åœ¨æˆ‘ä»¬æŸ¥è¯¢æ—¶æä¾›äº†å¾ˆå¤§çš„å¸®åŠ©ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬ä¸šåŠ¡åœºæ™¯çš„ä¸åŒï¼ŒMySQLä¸å¯èƒ½ä¼šå…¼é¡¾åˆ°æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ‰€ä»¥å®ƒæä¾›äº†è‡ªå»ºå‡½æ•°ï¼ˆCREATE FUNCTIONï¼‰ç»™æˆ‘ä»¬ä½¿ç”¨ã€‚",-1),u={href:"https://blog.csdn.net/weixin_45866849/article/details/119719547",target:"_blank",rel:"noopener noreferrer"},m=s(`<h3 id="è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#è¯­æ³•"><span>è¯­æ³•</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> function_name <span class="token punctuation">(</span> <span class="token punctuation">[</span>function_parameter<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token comment">//æ‹¬å·æ˜¯å¿…é¡»çš„ï¼Œå‚æ•°æ˜¯å¯é€‰çš„</span>
<span class="token keyword">RETURNS</span> <span class="token keyword">type</span>
<span class="token punctuation">[</span> characteristic <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> routine_body
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>function_nameï¼šè‡ªå»ºå‡½æ•°åç§°</li><li>function_parameterï¼šè‡ªå»ºå‡½æ•°çš„å‚æ•°ï¼Œå¯é€‰ï¼Œè¿˜å¯ä»¥è®¾ç½®æ˜¯è¾“å…¥å‚æ•°è¿˜æ˜¯è¾“å‡ºå‚æ•°ï¼Œç”¨ IN ã€OUTã€INOUTè¡¨ç¤ºï¼ŒINï¼šè¡¨ç¤ºè¾“å…¥å‚æ•°ï¼ŒOUTï¼šè¡¨ç¤ºè¾“å‡ºå‚æ•°ï¼ŒINOUTï¼šè¡¨ç¤ºæ—¢å¯ä»¥è¾“å…¥ä¹Ÿå¯ä»¥è¾“å‡ºã€‚</li><li>typeï¼šè¿”å›å€¼ç±»å‹</li><li>characteristicï¼šæŒ‡å®šè¯¥å‡½æ•°çš„ç‰¹æ€§ï¼Œ</li><li>routine_bodyï¼šå‡½æ•°ä½“</li></ul><p>characteristicçš„å–å€¼ä¸º</p><table><thead><tr><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>language sql</td><td>è¯´æ˜routine_bodyéƒ¨åˆ†æ˜¯ç”±SQLè¯­å¥ç»„æˆçš„ï¼Œå½“å‰ç³»ç»Ÿæ”¯æŒçš„è¯­è¨€ä¸ºSQL</td></tr><tr><td>[not] deterministic</td><td>æŒ‡æ˜å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œçš„ç»“æœæ˜¯å¦ç¡®å®šã€‚DETERMINISTIC è¡¨ç¤ºç»“æœæ˜¯ç¡®å®šçš„ã€‚æ¯æ¬¡æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹æ—¶ï¼Œç›¸åŒçš„è¾“å…¥ä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºã€‚</td></tr><tr><td>{contains sql \\no sql \\ reads sql data \\modifies sql data}</td><td>æŒ‡æ˜å­ç¨‹åºä½¿ç”¨SQLè¯­å¥çš„é™åˆ¶ã€‚CONTAINS SQLè¡¨æ˜å­ç¨‹åºåŒ…å«SQLè¯­å¥ï¼Œä½†æ˜¯ä¸åŒ…å«è¯»å†™æ•°æ®çš„è¯­å¥ï¼›NO SQLè¡¨æ˜å­ç¨‹åºä¸åŒ…å«SQLè¯­å¥ï¼›READS SQL DATAï¼šè¯´æ˜å­ç¨‹åºåŒ…å«è¯»æ•°æ®çš„è¯­å¥ï¼›MODIFIES SQL DATAè¡¨æ˜å­ç¨‹åºåŒ…å«å†™æ•°æ®çš„è¯­å¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šæŒ‡å®šä¸ºCONTAINS SQLã€‚</td></tr><tr><td>sql_security{definer\\invoker}</td><td>æŒ‡æ˜è°æœ‰æƒé™æ¥æ‰§è¡Œã€‚DEFINER è¡¨ç¤ºåªæœ‰å®šä¹‰è€…æ‰èƒ½æ‰§è¡Œï¼›INVOKER è¡¨ç¤ºæ‹¥æœ‰æƒé™çš„è°ƒç”¨è€…å¯ä»¥æ‰§è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»ŸæŒ‡å®šä¸ºDEFINERã€‚</td></tr><tr><td>comment &#39;string&#39;</td><td>æ³¨é‡Šä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥æè¿°å­˜å‚¨è¿‡ç¨‹æˆ–å‡½æ•°</td></tr></tbody></table>`,5),v={href:"https://juejin.cn/post/6844903461234933773",target:"_blank",rel:"noopener noreferrer"},k=s(`<p>å…¶å®ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿä¸å¤ªæ‡‚ï¼Œä¹Ÿæ²¡å’‹ç”¨åˆ°ã€‚</p><h3 id="å˜é‡" tabindex="-1"><a class="header-anchor" href="#å˜é‡"><span>å˜é‡</span></a></h3><p>åœ¨MySQLçš„å‡½æ•°ä¸­ï¼Œå˜é‡çš„å®šä¹‰æ˜¯åœ¨beginä¹‹å‰å®šä¹‰çš„ï¼Œå˜é‡çš„èŒƒå›´æ—¨åœ¨è¯¥å‡½æ•°ä¸­ç”Ÿæ•ˆã€‚</p><p>ä¸¾ä¸ªğŸŒ°</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># è¡¨Employee</span>
+-------------+------+
<span class="token operator">|</span> Column Name <span class="token operator">|</span> Type <span class="token operator">|</span>
+-------------+------+
<span class="token operator">|</span> <span class="token function">id</span>          <span class="token operator">|</span> int  <span class="token operator">|</span>
<span class="token operator">|</span> salary      <span class="token operator">|</span> int  <span class="token operator">|</span>
+-------------+------+
<span class="token comment"># å‡½æ•°1</span>
DELIMETER// <span class="token comment"># å£°æ˜endçš„ç»“æŸç¬¦ä¸º//ï¼Œä¸ä¸MySQLè¯­å¥çš„ç»“æŸç¬¦å†²çª</span>
create <span class="token keyword">function</span> getSalary<span class="token punctuation">(</span>N INT<span class="token punctuation">)</span> returns INT
BEGIN
 DECLARE rt_salary INT<span class="token punctuation">;</span> <span class="token comment"># å£°æ˜è–ªæ°´å˜é‡</span>
 SET N:<span class="token operator">=</span>N-1<span class="token punctuation">;</span> // è®¾ç½®n<span class="token operator">=</span>n-1
 RETURN<span class="token punctuation">(</span>
     <span class="token keyword">select</span> 
         salary
        INTO 
         rt_salary
        from
         Employee
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
END//

<span class="token comment"># å‡½æ•°2</span>
DELIMETER// <span class="token comment"># å£°æ˜endçš„ç»“æŸç¬¦ä¸º//ï¼Œä¸ä¸MySQLè¯­å¥çš„ç»“æŸç¬¦å†²çª</span>
create <span class="token keyword">function</span> getSalary<span class="token punctuation">(</span>N INT<span class="token punctuation">)</span> returns INT
BEGIN
 DECLARE rt_salary INT<span class="token punctuation">;</span> <span class="token comment"># å£°æ˜è–ªæ°´å˜é‡</span>

    <span class="token keyword">select</span> 
        salary
    INTO 
        rt_salary
    from
        Employee<span class="token punctuation">;</span>
  
    RETURN rt_salary<span class="token punctuation">;</span>
END//
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function h(b,g){const e=p("ExternalLinkIcon");return o(),l("div",null,[d,n("blockquote",null,[r,n("p",null,[a("å‚è€ƒï¼š"),n("a",u,[a("https://blog.csdn.net/weixin_45866849/article/details/119719547"),t(e)])])]),m,n("p",null,[a("è¡¨é“¾æ¥æºï¼š"),n("a",v,[a("https://juejin.cn/post/6844903461234933773"),t(e)])]),k])}const E=i(c,[["render",h],["__file","mysqlå‡½æ•°.html.vue"]]),T=JSON.parse('{"path":"/posts/notes/MySQL/mysql%E5%87%BD%E6%95%B0.html","title":"å‡½æ•°","lang":"en-US","frontmatter":{"icon":"pen-to-square","date":"2021-03-17T00:00:00.000Z","category":["mysql"],"title":"å‡½æ•°","description":"å‡½æ•° MySQLè‡ªå¸¦å¾ˆå¤šå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸ºæˆ‘ä»¬çš„æŸ¥è¯¢æä¾›äº†æå¤§çš„æ–¹ä¾¿ã€‚ Mathå‡½æ•° MAX æ±‚ä¸€åˆ—çš„æœ€å¤§å€¼ MIN æ±‚ä¸€åˆ—çš„æœ€å°å€¼ SUM æ±‚ä¸€åˆ—çš„å’Œ ROUND è¿”å›ç¦»å€¼Xæœ€è¿‘çš„æ•°ï¼ˆå››èˆäº”å…¥ï¼‰ï¼Œæ”¯æŒå°æ•°ä½ä½æ•° RAND éšæœºæ•°ï¼ŒèŒƒå›´[0,1) å­—ç¬¦å‡½æ•° SUBSTR SUBSTRæ˜¯ä¸€ä¸ªå­—ç¬¦å‡½æ•°ï¼Œç±»ä¼¼äºJavaä¸­çš„ substring()æ–¹æ³•ï¼Œä½†ç•¥æœ‰...","head":[["meta",{"property":"og:url","content":"https://imarshio.github.io/posts/notes/MySQL/mysql%E5%87%BD%E6%95%B0.html"}],["meta",{"property":"og:site_name","content":"Blog"}],["meta",{"property":"og:title","content":"å‡½æ•°"}],["meta",{"property":"og:description","content":"å‡½æ•° MySQLè‡ªå¸¦å¾ˆå¤šå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸ºæˆ‘ä»¬çš„æŸ¥è¯¢æä¾›äº†æå¤§çš„æ–¹ä¾¿ã€‚ Mathå‡½æ•° MAX æ±‚ä¸€åˆ—çš„æœ€å¤§å€¼ MIN æ±‚ä¸€åˆ—çš„æœ€å°å€¼ SUM æ±‚ä¸€åˆ—çš„å’Œ ROUND è¿”å›ç¦»å€¼Xæœ€è¿‘çš„æ•°ï¼ˆå››èˆäº”å…¥ï¼‰ï¼Œæ”¯æŒå°æ•°ä½ä½æ•° RAND éšæœºæ•°ï¼ŒèŒƒå›´[0,1) å­—ç¬¦å‡½æ•° SUBSTR SUBSTRæ˜¯ä¸€ä¸ªå­—ç¬¦å‡½æ•°ï¼Œç±»ä¼¼äºJavaä¸­çš„ substring()æ–¹æ³•ï¼Œä½†ç•¥æœ‰..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.nlark.com/yuque/0/2022/png/21953536/1666407897665-aee20eb3-3173-4b2e-8667-113e98be101b.png#averageHue=%230a0a0a&clientId=ud85b59f9-2d5d-4&id=LVEre&originHeight=372&originWidth=494&originalType=binary&ratio=1&rotation=0&showTitle=false&size=13745&status=done&style=none&taskId=u521d3a97-a0f7-4a54-aa8b-265e95f4ef4&title="}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-03-26T15:49:16.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"å‡½æ•°"}],["meta",{"property":"article:author","content":"Marshio"}],["meta",{"property":"article:published_time","content":"2021-03-17T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-26T15:49:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"å‡½æ•°\\",\\"image\\":[\\"https://cdn.nlark.com/yuque/0/2022/png/21953536/1666407897665-aee20eb3-3173-4b2e-8667-113e98be101b.png#averageHue=%230a0a0a&clientId=ud85b59f9-2d5d-4&id=LVEre&originHeight=372&originWidth=494&originalType=binary&ratio=1&rotation=0&showTitle=false&size=13745&status=done&style=none&taskId=u521d3a97-a0f7-4a54-aa8b-265e95f4ef4&title=\\",\\"https://cdn.nlark.com/yuque/0/2022/png/21953536/1666407897663-3d62b17d-fbc0-4879-956c-adbfb962d043.png#averageHue=%23f5f3f1&clientId=ud85b59f9-2d5d-4&id=yHqxU&originHeight=180&originWidth=134&originalType=binary&ratio=1&rotation=0&showTitle=false&size=4177&status=done&style=none&taskId=u165314f2-ee6d-4dc5-b755-9a92d5e9fac&title=\\"],\\"datePublished\\":\\"2021-03-17T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-26T15:49:16.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Marshio\\",\\"url\\":\\"https://marshio.com\\"}]}"]]},"headers":[{"level":2,"title":"å‡½æ•°","slug":"å‡½æ•°","link":"#å‡½æ•°","children":[{"level":3,"title":"Mathå‡½æ•°","slug":"mathå‡½æ•°","link":"#mathå‡½æ•°","children":[]},{"level":3,"title":"å­—ç¬¦å‡½æ•°","slug":"å­—ç¬¦å‡½æ•°","link":"#å­—ç¬¦å‡½æ•°","children":[]},{"level":3,"title":"æ—¶é—´å‡½æ•°","slug":"æ—¶é—´å‡½æ•°","link":"#æ—¶é—´å‡½æ•°","children":[]},{"level":3,"title":"é«˜çº§å‡½æ•°","slug":"é«˜çº§å‡½æ•°","link":"#é«˜çº§å‡½æ•°","children":[]}]},{"level":2,"title":"è‡ªå»ºå‡½æ•°","slug":"è‡ªå»ºå‡½æ•°","link":"#è‡ªå»ºå‡½æ•°","children":[{"level":3,"title":"è¯­æ³•","slug":"è¯­æ³•","link":"#è¯­æ³•","children":[]},{"level":3,"title":"å˜é‡","slug":"å˜é‡","link":"#å˜é‡","children":[]}]}],"git":{"createdTime":1711468156000,"updatedTime":1711468156000,"contributors":[{"name":"marshio","email":"marshioman@gmail.com","commits":1}]},"readingTime":{"minutes":5.62,"words":1687},"filePathRelative":"posts/notes/MySQL/mysqlå‡½æ•°.md","localizedDate":"March 17, 2021","excerpt":"<h2>å‡½æ•°</h2>\\n<blockquote>\\n<p>MySQLè‡ªå¸¦å¾ˆå¤šå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸ºæˆ‘ä»¬çš„æŸ¥è¯¢æä¾›äº†æå¤§çš„æ–¹ä¾¿ã€‚</p>\\n</blockquote>\\n<h3>Mathå‡½æ•°</h3>\\n<h4>MAX</h4>\\n<p>æ±‚ä¸€åˆ—çš„æœ€å¤§å€¼</p>\\n<h4>MIN</h4>\\n<p>æ±‚ä¸€åˆ—çš„æœ€å°å€¼</p>\\n<h4>SUM</h4>\\n<p>æ±‚ä¸€åˆ—çš„å’Œ</p>\\n<h4>ROUND</h4>\\n<p>è¿”å›ç¦»å€¼Xæœ€è¿‘çš„æ•°ï¼ˆå››èˆäº”å…¥ï¼‰ï¼Œæ”¯æŒå°æ•°ä½ä½æ•°</p>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code># å››èˆäº”å…¥\\nSELECT ROUND(1.4) = 1\\n\\n# ä¸¤ä½å°æ•°\\nSELECT ROUND(1.455ï¼Œ2) = 1.46\\n</code></pre></div>","autoDesc":true}');export{E as comp,T as data};
